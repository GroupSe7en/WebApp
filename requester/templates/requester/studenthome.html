{% extends "requester/base.html" %}

    {% block head %}
      <link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico">
      
      <title>Checkout example for Bootstrap</title>

      <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/checkout/">

      <!-- Bootstrap core CSS -->
      <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">

      <!-- Custom styles for this template -->
      <link href="form-validation.css" rel="stylesheet">
    {% endblock %}

      {% block content %}
        <div class="container">
          <div class="py-5 text-center">
            <h1>Welcome Back {% ifequal user.groups.all.0|stringformat:"s" 'Student' %}
              {{ user.studentprofile.firstName}} {{ user.studentprofile.lastName}}
            {% endifequal %}
            {% ifequal user.groups.all.0|stringformat:"s" 'Lecturer' %}
              {{ user.lecturerprofile.firstName}} {{ user.lecturerprofile.lastName}}
            {% endifequal %}!</h1>
            <p class="lead">The request from other webapp members are shown below. You can read full details by clicking View details. If you want to sort your requests, please use below _______ . You can reply to the requests. To create a new request, select "New Request" from navigation panel. To go to your profile, select "Profile". To logout, select "Log Out". <br>Have a nice experience!</p>
          </div>
          
          <div class="">
            <form action="" method="get">
              {{ filterset.form.as_p }}
              <input type="submit" />
            </form>
          </div>

          <div class="row">
              <h3 class="d-flex justify-content-center">
                <span>Responses</span>
              </h3>
                {% for request in object_list %}
                <div class="container bg-white border border-white shadow p-3 bg-body rounded m-2 mx-auto">
                    <h5 class="lh-1">{{ request.title }}</h5>
                    <p class="fw-light fst-italic lh-1">to {{ request.reciever }} on {{request.date_posted}}
                        {% if request.accept_status == 'PN' %}
                            <span class="badge rounded-pill bg-secondary">Pending</span>
                        {% elif request.accept_status == 'AC' %}
                            <span class="badge rounded-pill bg-success">Accepted</span>
                        {% else %}
                            <span class="badge rounded-pill bg-danger">Rejected</span>
                        {% endif %}
                    </p>
                    <a class="btn btn-outline-info btn-sm" href="{% url 'request-detail' request.id %}" role="button">View details Â»</a>
              </div>
            {% endfor %}
            <div class="mb-2"></div>
            </div>
            <hr>
        </div>

{% endblock content %}